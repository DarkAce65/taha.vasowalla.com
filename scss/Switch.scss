$base-font-size: 10px;

$switch-width: 6em;
$switch-size: 3em;
$switch-space: 0.13em;

$switch-off-padding: 0em;
$switch-on-padding:  $switch-size - $switch-space;
$switch-button-size: $switch-size - ($switch-space*2);

$switch-off-border: #eee;
$switch-on-color: #4DB6CD;
$switch-toggle-color: #fff;

$switch-animation-bounce-distance: 0.26em;


input.switch {
	font-size: $base-font-size;
	position: relative;
	display: inline-block;
	-webkit-appearance: none;
	appearance: none;
	width:         $switch-width;
	height:        $switch-size;
	line-height:   $switch-size;
	border-radius: $switch-size/2;
	margin:  0;
	padding: 0;
	box-shadow: inset 0 0 0 $switch-space $switch-off-border;
	outline: 1px solid transparent !important;
	cursor: pointer;
	border: none;
	background-color: #eee;
	user-select: none;
	-webkit-tap-highlight-color:rgba(0,0,0,0);
	-webkit-touch-callout: none;

	transition: box-shadow 0.3s ease-in-out, padding 0.25s ease-in-out;
	transition-delay: 0.1s, 0s;

	&:checked {
		transition-delay: 0s, 0s;
		box-shadow: inset 0 0 0 $switch-size/1.75 $switch-on-color !important;
		padding-left: $switch-on-padding;
	}

	&::before, &::after {
		content: "";
	}

	&::after {
		/* Increases hit area */
		$size-adjust: -($switch-button-size / 3);
		position: absolute;
		top:    $size-adjust;
		left:   $size-adjust;
		bottom: $size-adjust;
		right:  $size-adjust;
	}

	&::before {
		display: inline-block;
		height: $switch-button-size;
		width:  $switch-button-size;
		margin: $switch-space 0 0 $switch-space;
		background-color: $switch-toggle-color;
		border-radius: $switch-button-size/2;
		box-shadow: 0 $switch-space ($switch-space*2) 0 rgba(0,0,0,0.2), 
			0 0 ($switch-space/2) ($switch-space/2)rgba(0,0,0,0.1);
		transition: all .1s ease .1s;
	}

	&:active::before {
		transition: all .1s ease .05s;
	}
	&.touch:hover::before {
		transition: all 0s ease 0s;
	}

	&:active::before,
	&.touch:hover::before {
		width: $switch-button-size + ($switch-space * 4);
	}

	&:active:checked::before, &.touch:hover:checked::before {
		margin-left: -($switch-space * 3);
	}
}

@keyframes slide-on {
	0% { padding-left: $switch-off-padding; }
	60% { padding-left: $switch-on-padding + $switch-animation-bounce-distance; }
	100% { padding-left: $switch-on-padding; }
}
@keyframes slide-off {
	0% { padding-left: $switch-on-padding;  text-indent: 0; }
	60% { padding-left: $switch-off-padding; text-indent: -$switch-animation-bounce-distance; }
	100% { padding-left: $switch-off-padding; text-indent: 0; }
}